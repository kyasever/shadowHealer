# hs-js

开发两个版本

- node 命令行
- vue 版本

# 性能测试

预计指标 100:1 应该是能接受的下限(100 分钟的战斗在 1 分钟内模拟结束)
11.20 10000h 33s
11.21 1000h 8s
beta1.0 100h 4783ms
bata1.1 100h 8389ms

# todo:

# roadmap

release:

- 完整的存读档功能.
- 完整的游戏流程,包括连续多长战斗,获得收益,装备遗物,选择队友等.
- 超过 5 个关卡
- (可能)方便调试的界面
- 性能指标(给重构提供一个锚点)和平衡指标(给属性和玩法提供一个锚点)
- 录像功能. effect 回放
- 复杂度如果可控的话,就不要着急写单测,最多写点全局性质的.避免改动连带改动单测成本过高

release2:

- 用 unity 基底或者 phaser 基底完成的,带有成品界面的游戏
  node 的环境近似于 unity vue 的环境近似于 web 引擎, 对这二者的支持也是为后续打基础

# release

beta1.0-11.24

- 可以模拟一场战斗, 支持 node 和 vue 运行.
- 重构了 commander 换成了自己实现的版本

beta1.1-11.29

- effect 重构, 万物皆 effect, 所有变更均走 makeEffect, 过程记录在 effect 日志中
- property 重构. 初始化走 calculateProperty().
- 简单的多次战斗模拟
- 优化了 debug 方式和 log 统计

beta1.2-12.3

- 正式引入 phaser 和 vue,重构项目目录

# 核心逻辑

时间切片. 每秒 50 逻辑帧 0.02s 一帧, 在模拟中只有帧数
时间都是以帧数计算的, 每 update 走一帧, 50update 为游戏内逻辑 1s
AI 角色采用攻击间隔+技能优先级模式, 每 x 秒攻击一次,使用(平 a/技能/大招)
makeEffect 是绝对核心函数. 代表对某个角色施加一个影响, 只有这个函数有权利改变数据
支持协程和延时等功能

# 小目标 & 脑洞

走出舒适区:
每个角色要与玩家角色存在一点或多或少的交互. 不能是摆个按钮给玩家. 或者是之间的交互,与遗物的交互
玩家能够提供的能力, 盾(提高韧性,防打断) 霸体(免控) 控血
角色要有故事,应该编一些设定之类的东西
